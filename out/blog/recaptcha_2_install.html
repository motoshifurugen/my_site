<!DOCTYPE html><html lang="ja"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/my_site/_next/static/media/a34f9d1faa5f3315-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" as="image" href="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/594194/a219bdd0-62ec-4a2c-7fb2-24c5432211c8.png"/><link rel="preload" as="image" href="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/594194/43588993-9150-4b6b-ef14-c7631dfc7021.png"/><link rel="preload" as="image" href="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/594194/55e07f03-c734-1bb2-eefc-f2cabb7c1d10.png"/><link rel="preload" as="image" href="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/594194/18fa70ed-2711-683a-9a33-86cefc9bc9d8.png"/><link rel="preload" as="image" href="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/594194/b52d85bf-3223-7a57-1502-1441e218132c.png"/><link rel="preload" as="image" href="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/594194/1a4ac286-bcfe-85dc-d10a-de22ebdae845.png"/><link rel="preload" as="image" href="/my_site/images/profile_icon.png" fetchPriority="high"/><link rel="stylesheet" href="/my_site/_next/static/css/5fe8a59114486a51.css" data-precedence="next"/><link rel="stylesheet" href="/my_site/_next/static/css/b3d454f280ebe0d3.css" data-precedence="next"/><link rel="stylesheet" href="/my_site/_next/static/css/c95096fc0885ed51.css" data-precedence="next"/><link rel="stylesheet" href="/my_site/_next/static/css/c5aa548da6c12a0a.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/my_site/_next/static/chunks/webpack-852c43e8539e94b6.js"/><script src="/my_site/_next/static/chunks/fd9d1056-efb4b4e56dfcb6b6.js" async=""></script><script src="/my_site/_next/static/chunks/117-6671b222ce200923.js" async=""></script><script src="/my_site/_next/static/chunks/main-app-534991ffaca62d9b.js" async=""></script><script src="/my_site/_next/static/chunks/53c13509-79cc49e8f8c4a492.js" async=""></script><script src="/my_site/_next/static/chunks/8e1d74a4-f0365ca0a1823520.js" async=""></script><script src="/my_site/_next/static/chunks/870fdd6f-f38ef3e62dedd50a.js" async=""></script><script src="/my_site/_next/static/chunks/69b09407-555e53a9ad5a8779.js" async=""></script><script src="/my_site/_next/static/chunks/113-22cbb49d96a37309.js" async=""></script><script src="/my_site/_next/static/chunks/318-8eea3bd628ef18de.js" async=""></script><script src="/my_site/_next/static/chunks/app/layout-735feeaa5c019741.js" async=""></script><script src="/my_site/_next/static/chunks/878-0efe6572033a963b.js" async=""></script><script src="/my_site/_next/static/chunks/app/not-found-661488636955cdc0.js" async=""></script><script src="/my_site/_next/static/chunks/3d47b92a-e6ddc0a62588d0e4.js" async=""></script><script src="/my_site/_next/static/chunks/198-e6778a7d3135e80f.js" async=""></script><script src="/my_site/_next/static/chunks/app/(pages)/blog/%5Bslug%5D/page-91710daad85e4689.js" async=""></script><link rel="preload" href="https://www.googletagmanager.com/gtm.js?id=G-3B88D979NP" as="script"/><link rel="preload" href="https://www.googletagmanager.com/gtag/js?id=G-3B88D979NP" as="script"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"/><title>Furugen&#x27;s Island</title><meta name="description" content="This is Furugen&#x27;s personal website."/><link rel="icon" href="/my_site/favicon.ico" type="image/x-icon" sizes="256x256"/><meta name="next-size-adjust"/><link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&amp;family=Noto+Sans+JP:wght@100..900&amp;display=swap" rel="stylesheet"/><script src="/my_site/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__className_204239"><div class="relative min-h-screen"><div class=""><header class="
			fixed left-0 top-0 z-50 w-full
			bg-main-white
		"><div class="container mx-auto flex flex-col py-6 md:flex-row"><div class="container z-50 flex animate-fade-in-up items-center px-4"><a href="/my_site/"><span class="dm-sans text-2xl font-bold">Furugen&#x27;s Island</span></a><button class="ml-auto flex size-12 items-center justify-center rounded-full bg-white text-2xl md:hidden"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="bars" class="svg-inline--fa fa-bars " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"></path></svg></button></div><div class="container flex"></div></div></header><main><section><div class="mb-10 flex min-h-screen w-full max-w-screen-lg justify-start md:max-w-full"><div class="w-full max-w-full rounded-lg bg-white p-10 pb-24 shadow-sm xl:px-[4em] ArticleContent_articleContent__FInyt"><p>2021-03-18</p><h1>reCAPTCHA(リキャプチャ)導入</h1><div class="mb-16 mt-8 flex flex-wrap gap-2"><span class="inline-block cursor-pointer rounded bg-teal px-2.5 py-1.5 text-xs text-main-white">reCAPTCHA</span><span class="inline-block cursor-pointer rounded bg-teal px-2.5 py-1.5 text-xs text-main-white">PHP</span><span class="inline-block cursor-pointer rounded bg-teal px-2.5 py-1.5 text-xs text-main-white">セキュリティ</span></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous"/><div class="target-toc"><h2 id="recaptchaとは">reCAPTCHAとは</h2>
<div>reCAPTCHA（リキャプチャ）とは、CAPTCHAと呼ばれる
ボットの攻撃からWebサイトを守る機能の一種。</div>
<div>CAPTCHAとは「completely automated public Turing test to tell computers and humans apart 」の略で、人間とコンピュータを区別するためのテストというような意味を持つ。</div>
<div>具体的な方法としては、下の画像のように崩れた文字を認識させたり、あてはまる画像を選択させたりする。</div>
<div><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/594194/a219bdd0-62ec-4a2c-7fb2-24c5432211c8.png" alt="reCAPTCHAv1の例"/>
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/594194/43588993-9150-4b6b-ef14-c7631dfc7021.png" alt="reCAPTCHAv2の例"/></div>
<div>2021年2月現在、reCAPTCHAはv1（提供停止）、v2、v3まで開発されてGoogleが提供している。</div>
<div>reCAPTCHAについて詳しく書かれた記事はこちら▼
<a href="https://www.synergy-marketing.co.jp/blog/using_recaptcha_on_form">「reCAPTCHA」って？スパム対策に効果的なreCAPTCHAをフォームに入れてみた</a></div>
<h2 id="recaptcha-v2-導入手順">reCAPTCHA v2 導入手順</h2>
<div>クライアント側につける「サイトキー」とサーバー側につける「シークレットキー」によって機能をつけることができる。メール送信フォームを参考に、鍵を作成→クライアント側(HTMLとjQuery)を記述→サーバー側(PHP)を記述という流れで実装する。</div>
<ol>
<li>
<div>Google reCAPTCHA にアクセス
<a href="https://www.google.com/recaptcha/about/">https://www.google.com/recaptcha/about/</a>
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/594194/55e07f03-c734-1bb2-eefc-f2cabb7c1d10.png" alt="スクリーンショット 2021-02-04 23.55.32.png"/></div>
</li>
<li>
<div>Admin Consoleをクリックしたあと「＋」ボタンから新規作成ページへ行く。
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/594194/18fa70ed-2711-683a-9a33-86cefc9bc9d8.png" alt="スクリーンショット 2021-02-05 0.03.14.png"/></div>
</li>
<li>
<div>名前、バージョン（今回はv2をチェック）、ドメインをそれぞれ入力して送信。
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/594194/b52d85bf-3223-7a57-1502-1441e218132c.png" alt="スクリーンショット 2021-02-05 0.01.21.png"/></div>
</li>
<li>
<div>サイトキーとシークレットキーが表示されるので、閉じずにそのままにしておく。</div>
</li>
<li>
<div>HTMLでメール送信フォームを作り、サーバー側でreCAPCHAのデータをチェックする</div>
</li>
</ol>
<pre><div class="jsx-1c8b38543056c708 code-block-wrapper"><div class="jsx-1c8b38543056c708 code-block-title">html</div><div class="jsx-1c8b38543056c708 code-block-container"><pre class="code-block-with-title" style="background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto;border-radius:0.3em"><code class="language-HTML" style="background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>&lt;html&gt;
</span>&lt;head&gt;
<!-- -->    &lt;!-- reCAPTCHAapi読み込み --&gt;
<!-- -->    &lt;script src=&#x27;https://www.google.com/recaptcha/api.js&#x27;&gt;&lt;/script&gt;
<!-- -->    &lt;!-- jQuery読み込み --&gt;
<!-- -->    &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js&quot;&gt;&lt;/script&gt;
<!-- -->&lt;/head&gt;
<!-- -->&lt;body&gt;
<!-- -->    &lt;form id=&quot;form&quot; method=&quot;post&quot;&gt;
<!-- -->        &lt;div&gt;
<!-- -->            &lt;label for=&quot;name&quot;&gt;名前&lt;/label&gt;
<!-- -->            &lt;input type=&quot;text&quot; id=&quot;name&quot;&gt;
<!-- -->        &lt;/div&gt;
<!-- -->        &lt;div&gt;
<!-- -->            &lt;label for=&quot;email&quot;&gt;メールアドレス&lt;/label&gt;
<!-- -->            &lt;input  type=&quot;email&quot; id=&quot;email&quot;&gt;
<!-- -->        &lt;/div&gt;
<!-- -->        &lt;div&gt;
<!-- -->            &lt;label for=&quot;body&quot;&gt;本文&lt;/label&gt;
<!-- -->            &lt;textarea id=&quot;body&quot;&gt;&lt;/textarea&gt;
<!-- -->        &lt;/div&gt;
<!-- -->        &lt;!-- formタグの内側でreCAPTHA登場場所を記述 サイトキーを入れる--&gt;
<!-- -->        &lt;div class=&quot;g-recaptcha&quot; data-callback=&quot;onSubmit&quot; data-sitekey=&quot;&quot;&gt;&lt;/div&gt;
<!-- -->        &lt;!-- 送信ボタンのデフォルトをdisaledにする --&gt;
<!-- -->        &lt;button type=&quot;submit&quot; class=&quot;submit-button&quot; disabled&gt;送信&lt;/button&gt;
<!-- -->    &lt;/form&gt;
<!-- -->    &lt;script&gt;
<!-- -->    function onSubmit(recaptcha) {
<!-- -->        if (recaptcha !== &#x27;&#x27;){
<!-- -->            // reCAPTHAによるチェックをしたあとは送信ボタンを押せるようにする
<!-- -->            $(&#x27;.submit-button&#x27;).removeAttr(&#x27;disabled&#x27;);
<!-- -->        }
<!-- -->    }
<!-- -->    &lt;/script&gt;
<!-- -->&lt;/body&gt;
<!-- -->&lt;/html&gt;</code></pre><button class="jsx-1c8b38543056c708 copy-button"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M20 2H10c-1.103 0-2 .897-2 2v4H4c-1.103 0-2 .897-2 2v10c0 1.103.897 2 2 2h10c1.103 0 2-.897 2-2v-4h4c1.103 0 2-.897 2-2V4c0-1.103-.897-2-2-2zM4 20V10h10l.002 10H4zm16-6h-4v-4c0-1.103-.897-2-2-2h-4V4h10v10z"></path></svg></button></div></div></pre>
<pre><div class="jsx-1c8b38543056c708 code-block-wrapper"><div class="jsx-1c8b38543056c708 code-block-title">php</div><div class="jsx-1c8b38543056c708 code-block-container"><pre class="code-block-with-title" style="background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto;border-radius:0.3em"><code class="language-php" style="background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// メール送信処理の中で</span><span>
</span>
<span>    </span><span class="token" style="color:hsl(207, 82%, 66%)">$recaptcha</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">h</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token this" style="color:hsl(286, 60%, 67%)">$this</span><span class="token" style="color:hsl(207, 82%, 66%)">-&gt;</span><span class="token" style="color:hsl(355, 65%, 65%)">request</span><span class="token" style="color:hsl(207, 82%, 66%)">-&gt;</span><span class="token" style="color:hsl(355, 65%, 65%)">data</span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span class="token single-quoted-string" style="color:hsl(95, 38%, 62%)">&#x27;g-recaptcha-response&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">if</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(286, 60%, 67%)">isset</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(207, 82%, 66%)">$recaptcha</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>        </span><span class="token" style="color:hsl(207, 82%, 66%)">$captcha</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">$recaptcha</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span> </span><span class="token" style="color:hsl(286, 60%, 67%)">else</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>        </span><span class="token" style="color:hsl(207, 82%, 66%)">$captcha</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token single-quoted-string" style="color:hsl(95, 38%, 62%)">&#x27;&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span><span>    </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// シークレットキーを入れる</span><span>
</span><span>    </span><span class="token" style="color:hsl(207, 82%, 66%)">$secretKey</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token double-quoted-string" style="color:hsl(95, 38%, 62%)">&quot;&quot;</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span>    </span><span class="token" style="color:hsl(207, 82%, 66%)">$resp</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> @</span><span class="token" style="color:hsl(207, 82%, 66%)">file_get_contents</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token double-quoted-string" style="color:hsl(95, 38%, 62%)">&quot;https://www.google.com/recaptcha/api/siteverify?secret=</span><span class="token double-quoted-string interpolation" style="color:hsl(220, 14%, 71%)">{</span><span class="token double-quoted-string interpolation" style="color:hsl(207, 82%, 66%)">$secretKey</span><span class="token double-quoted-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token double-quoted-string" style="color:hsl(95, 38%, 62%)">&amp;response=</span><span class="token double-quoted-string interpolation" style="color:hsl(220, 14%, 71%)">{</span><span class="token double-quoted-string interpolation" style="color:hsl(207, 82%, 66%)">$captcha</span><span class="token double-quoted-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token double-quoted-string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span>    </span><span class="token" style="color:hsl(207, 82%, 66%)">$resp_result</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">json_decode</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(207, 82%, 66%)">$resp</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span class="token" style="color:hsl(29, 54%, 61%)">true</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">if</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(207, 82%, 66%)">intval</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(207, 82%, 66%)">$resp_result</span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span class="token double-quoted-string" style="color:hsl(95, 38%, 62%)">&quot;success&quot;</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">!==</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">1</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>        </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// reCAPTCHA承認失敗時の処理</span><span>
</span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span> </span><span class="token" style="color:hsl(286, 60%, 67%)">else</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>        </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// reCAPTCHA承認成功時の処理</span><span>
</span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span></code></pre><button class="jsx-1c8b38543056c708 copy-button"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M20 2H10c-1.103 0-2 .897-2 2v4H4c-1.103 0-2 .897-2 2v10c0 1.103.897 2 2 2h10c1.103 0 2-.897 2-2v-4h4c1.103 0 2-.897 2-2V4c0-1.103-.897-2-2-2zM4 20V10h10l.002 10H4zm16-6h-4v-4c0-1.103-.897-2-2-2h-4V4h10v10z"></path></svg></button></div></div></pre>
<div>これで、v2のreCAPTHAを実装できた。
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/594194/1a4ac286-bcfe-85dc-d10a-de22ebdae845.png" alt="スクリーンショット 2021-02-05 1.04.38.png"/></div>
<div>ただし日々のコンピュータの進化は早く、これらを突破するソフトウェアやreCAPCHTAの脆弱性についてもすでにいくつか報告されている。</div>
<div>コンピュータと人を見分けるテスト。熱い戦いが続きそう。</div>
<h3 id="参考にさせてもらった記事">参考にさせてもらった記事</h3>
<div><a href="https://liapoc.com/recaptcha.html">Googleの「reCAPTCHA」を5分で実装する</a></div></div></div><div class="flex-grow lg:ml-10"><aside class="hidden lg:block"><div class="w-full rounded-lg bg-white px-6 py-10 shadow-sm"><div class="flex items-center"><img alt="Profile" fetchPriority="high" width="100" height="100" decoding="async" data-nimg="1" class="rounded-full" style="color:transparent" src="/my_site/images/profile_icon.png"/><div class="ml-4"><p class="text-lg font-semibold">motoshifurugen</p><div class="mt-4 flex justify-center space-x-4"><a rel="noopener noreferrer" target="_blank" href="https://github.com/motoshifurugen"><div class="text-main-black"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" height="24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></div></a><a rel="noopener noreferrer" target="_blank" href="https://x.com/cocoahearts21"><div class="text-main-black"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"></path></svg></div></a></div></div></div><p class="mt-3 text-sm leading-6">沖縄生まれ、ブルーハーツ育ち。<br/>考える前に行動する、<br/>なんくるないさ系エンジニアです。</p><div class="mt-3"><a href="/my_site/profile"><div class="text-teal hover:underline">View Profile</div></a></div></div><div class="w-full"><div class="mt-5"></div> <div class="rounded-lg bg-white p-4 shadow-sm transition-all duration-300 fixed top-20 z-50 w-[312px]"><span class="text-xl font-bold">目次</span><nav class="toc m-1 p-1"></nav></div></div></aside></div></div></section></main></div></div><div class="my-6 h-0.5 w-0 bg-main-black transition-all duration-1000 ease-in-out"></div><footer><section><div class="container mt-4 h-32 md:flex"><div class="rightFooter w-full md:w-3/4"><p class="mb-1 text-lg md:mb-3">古堅 基史</p><p class="flex items-center">沖縄<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="plane" class="svg-inline--fa fa-plane mx-1 text-xxs opacity-70" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="currentColor" d="M482.3 192c34.2 0 93.7 29 93.7 64c0 36-59.5 64-93.7 64l-116.6 0L265.2 495.9c-5.7 10-16.3 16.1-27.8 16.1l-56.2 0c-10.6 0-18.3-10.2-15.4-20.4l49-171.6L112 320 68.8 377.6c-3 4-7.8 6.4-12.8 6.4l-42 0c-7.8 0-14-6.3-14-14c0-1.3 .2-2.6 .5-3.9L32 256 .5 145.9c-.4-1.3-.5-2.6-.5-3.9c0-7.8 6.3-14 14-14l42 0c5 0 9.8 2.4 12.8 6.4L112 192l102.9 0-49-171.6C162.9 10.2 170.6 0 181.2 0l56.2 0c11.5 0 22.1 6.2 27.8 16.1L365.7 192l116.6 0z"></path></svg>広島<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="plane" class="svg-inline--fa fa-plane mx-1 text-xxs opacity-70" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="currentColor" d="M482.3 192c34.2 0 93.7 29 93.7 64c0 36-59.5 64-93.7 64l-116.6 0L265.2 495.9c-5.7 10-16.3 16.1-27.8 16.1l-56.2 0c-10.6 0-18.3-10.2-15.4-20.4l49-171.6L112 320 68.8 377.6c-3 4-7.8 6.4-12.8 6.4l-42 0c-7.8 0-14-6.3-14-14c0-1.3 .2-2.6 .5-3.9L32 256 .5 145.9c-.4-1.3-.5-2.6-.5-3.9c0-7.8 6.3-14 14-14l42 0c5 0 9.8 2.4 12.8 6.4L112 192l102.9 0-49-171.6C162.9 10.2 170.6 0 181.2 0l56.2 0c11.5 0 22.1 6.2 27.8 16.1L365.7 192l116.6 0z"></path></svg>埼玉<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="plane" class="svg-inline--fa fa-plane mx-1 text-xxs opacity-70" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="currentColor" d="M482.3 192c34.2 0 93.7 29 93.7 64c0 36-59.5 64-93.7 64l-116.6 0L265.2 495.9c-5.7 10-16.3 16.1-27.8 16.1l-56.2 0c-10.6 0-18.3-10.2-15.4-20.4l49-171.6L112 320 68.8 377.6c-3 4-7.8 6.4-12.8 6.4l-42 0c-7.8 0-14-6.3-14-14c0-1.3 .2-2.6 .5-3.9L32 256 .5 145.9c-.4-1.3-.5-2.6-.5-3.9c0-7.8 6.3-14 14-14l42 0c5 0 9.8 2.4 12.8 6.4L112 192l102.9 0-49-171.6C162.9 10.2 170.6 0 181.2 0l56.2 0c11.5 0 22.1 6.2 27.8 16.1L365.7 192l116.6 0z"></path></svg>広島<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="plane" class="svg-inline--fa fa-plane mx-1 text-xxs opacity-70" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="currentColor" d="M482.3 192c34.2 0 93.7 29 93.7 64c0 36-59.5 64-93.7 64l-116.6 0L265.2 495.9c-5.7 10-16.3 16.1-27.8 16.1l-56.2 0c-10.6 0-18.3-10.2-15.4-20.4l49-171.6L112 320 68.8 377.6c-3 4-7.8 6.4-12.8 6.4l-42 0c-7.8 0-14-6.3-14-14c0-1.3 .2-2.6 .5-3.9L32 256 .5 145.9c-.4-1.3-.5-2.6-.5-3.9c0-7.8 6.3-14 14-14l42 0c5 0 9.8 2.4 12.8 6.4L112 192l102.9 0-49-171.6C162.9 10.2 170.6 0 181.2 0l56.2 0c11.5 0 22.1 6.2 27.8 16.1L365.7 192l116.6 0z"></path></svg>横浜</p></div><div class=" my-4 border-l-0 border-t-2 opacity-40 md:mx-8 md:my-0 md:border-l-2 md:border-t-0 "></div><div class="leftFooter flex w-full flex-col justify-between md:w-1/4"><div class="mb-6 flex space-x-6 md:mb-0"><a rel="noopener noreferrer" target="_blank" href="https://github.com/motoshifurugen"><div class="text-main-black"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" height="24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></div></a><a rel="noopener noreferrer" target="_blank" href="https://x.com/cocoahearts21"><div class="text-main-black"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"></path></svg></div></a></div><p class="self-end opacity-50">© 2024 Furugen</p></div></div></section></footer><script src="/my_site/_next/static/chunks/webpack-852c43e8539e94b6.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/my_site/_next/static/media/a34f9d1faa5f3315-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/my_site/_next/static/css/5fe8a59114486a51.css\",\"style\"]\n3:HL[\"/my_site/_next/static/css/b3d454f280ebe0d3.css\",\"style\"]\n4:HL[\"/my_site/_next/static/css/c95096fc0885ed51.css\",\"style\"]\n5:HL[\"/my_site/_next/static/css/c5aa548da6c12a0a.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"6:I[12846,[],\"\"]\n9:I[4707,[],\"\"]\nb:I[36423,[],\"\"]\nc:I[88826,[\"240\",\"static/chunks/53c13509-79cc49e8f8c4a492.js\",\"699\",\"static/chunks/8e1d74a4-f0365ca0a1823520.js\",\"676\",\"static/chunks/870fdd6f-f38ef3e62dedd50a.js\",\"958\",\"static/chunks/69b09407-555e53a9ad5a8779.js\",\"113\",\"static/chunks/113-22cbb49d96a37309.js\",\"318\",\"static/chunks/318-8eea3bd628ef18de.js\",\"185\",\"static/chunks/app/layout-735feeaa5c019741.js\"],\"default\"]\nd:I[12395,[\"240\",\"static/chunks/53c13509-79cc49e8f8c4a492.js\",\"699\",\"static/chunks/8e1d74a4-f0365ca0a1823520.js\",\"676\",\"static/chunks/870fdd6f-f38ef3e62dedd50a.js\",\"958\",\"static/chunks/69b09407-555e53a9ad5a8779.js\",\"113\",\"static/chunks/113-22cbb49d96a37309.js\",\"318\",\"static/chunks/318-8eea3bd628ef18de.js\",\"185\",\"static/chunks/app/layout-735feeaa5c019741.js\"],\"default\"]\ne:I[75292,[\"878\",\"static/chunks/878-0efe6572033a963b.js\",\"160\",\"static/chunks/app/not-found-661488636955cdc0.js\"],\"default\"]\nf:I[98577,[\"240\",\"static/chunks/53c13509-79cc49e8f8c4a492.js\",\"699\",\"static/chunks/8e1d74a4-f0365ca0a1823520.js\",\"676\",\"static/chunks/870fdd6f-f38ef3e62dedd50a.js\",\"958\",\"static/chunks/69b09407-555e53a9ad5a8779.js\",\"113\",\"static/chunks/113-22cbb49d96a37309.js\",\"318\",\"static/chunks/318-8eea3bd628ef18de.js\",\"185\",\"static/chunks/app/layout-735feeaa5c019741.js\"],\"default\"]\n10:I[98087,[\"240\",\"static/chunks/53c13509-79cc49e8f8c4a492.js\",\"699\",\"static/chunks/8e1d74a4-f0365ca0a1823520.js\",\"676\",\"static/chunks/870fdd6f-f38ef3e62dedd50a.js\",\"958\",\"static/chunks/69b09407-555e53a9ad5a8779.js\",\"113\",\"static/chunks/113-22cbb49d96a37309.js\",\"318\",\"static/chunks/318-8eea3bd628ef18de.js\",\"185\",\"static/chunks/app/layout-735feeaa5c019741.js\"],\"GoogleTagManager\"]\n11:I[14888,[\"240\",\"static/chunks/53c13509-79cc49e8f8c4a492.js\",\"699\",\"static/chunks/8e1d74a4-f0365ca0a1823520.js\",\"676\",\"static/chunks/870fdd6f-f38ef3e62dedd50a.js\",\"958\",\"static/chunks/69b09407-555e53a9ad5a8779.js\",\"113\",\"static/chunks/113-22cbb49d96a37309.js\",\"318\",\"static/chunks/318-8eea3bd628ef18de.js\",\"185\",\"static/chunks/app/layout-735feeaa5c019741.js\"],\"GoogleAnalyt"])</script><script>self.__next_f.push([1,"ics\"]\n13:I[61060,[],\"\"]\na:[\"slug\",\"recaptcha_2_install\",\"d\"]\n14:[]\n"])</script><script>self.__next_f.push([1,"0:[\"$\",\"$L6\",null,{\"buildId\":\"Sq760TpPfUPeeyAFt0VBg\",\"assetPrefix\":\"/my_site\",\"urlParts\":[\"\",\"blog\",\"recaptcha_2_install\"],\"initialTree\":[\"\",{\"children\":[\"(pages)\",{\"children\":[\"blog\",{\"children\":[[\"slug\",\"recaptcha_2_install\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"recaptcha_2_install\\\"}\",{}]}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"(pages)\",{\"children\":[\"blog\",{\"children\":[[\"slug\",\"recaptcha_2_install\",\"d\"],{\"children\":[\"__PAGE__\",{},[[\"$L7\",\"$L8\",[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/my_site/_next/static/css/c95096fc0885ed51.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/my_site/_next/static/css/c5aa548da6c12a0a.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]]],null],null]},[null,[\"$\",\"$L9\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"(pages)\",\"children\",\"blog\",\"children\",\"$a\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[null,[\"$\",\"$L9\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"(pages)\",\"children\",\"blog\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[null,[\"$\",\"$L9\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"(pages)\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/my_site/_next/static/css/5fe8a59114486a51.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/my_site/_next/static/css/b3d454f280ebe0d3.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"ja\",\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"link\",null,{\"rel\":\"preconnect\",\"href\":\"https://fonts.googleapis.com\"}],[\"$\",\"link\",null,{\"rel\":\"preconnect\",\"href\":\"https://fonts.gstatic.com\",\"crossOrigin\":\"anonymous\"}],[\"$\",\"link\",null,{\"href\":\"https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000\u0026family=Noto+Sans+JP:wght@100..900\u0026display=swap\",\"rel\":\"stylesheet\"}]]}],[\"$\",\"body\",null,{\"className\":\"__className_204239\",\"children\":[[\"$\",\"$Lc\",null,{\"children\":[[\"$\",\"$Ld\",null,{}],[\"$\",\"main\",null,{\"children\":[\"$\",\"$L9\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[\"$\",\"$Le\",null,{}],\"notFoundStyles\":[]}]}]]}],[\"$\",\"$Lf\",null,{}]]}],[\"$\",\"$L10\",null,{\"gtmId\":\"G-3B88D979NP\"}],[\"$\",\"$L11\",null,{\"gaId\":\"G-3B88D979NP\"}]]}]],null],null],\"couldBeIntercepted\":false,\"initialHead\":[null,\"$L12\"],\"globalErrorComponent\":\"$13\",\"missingSlots\":\"$W14\"}]\n"])</script><script>self.__next_f.push([1,"12:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"Furugen's Island\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"This is Furugen's personal website.\"}],[\"$\",\"link\",\"4\",{\"rel\":\"icon\",\"href\":\"/my_site/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"256x256\"}],[\"$\",\"meta\",\"5\",{\"name\":\"next-size-adjust\"}]]\n7:null\n"])</script><script>self.__next_f.push([1,"15:I[41458,[\"614\",\"static/chunks/3d47b92a-e6ddc0a62588d0e4.js\",\"878\",\"static/chunks/878-0efe6572033a963b.js\",\"113\",\"static/chunks/113-22cbb49d96a37309.js\",\"198\",\"static/chunks/198-e6778a7d3135e80f.js\",\"610\",\"static/chunks/app/(pages)/blog/%5Bslug%5D/page-91710daad85e4689.js\"],\"default\"]\n17:I[65878,[\"614\",\"static/chunks/3d47b92a-e6ddc0a62588d0e4.js\",\"878\",\"static/chunks/878-0efe6572033a963b.js\",\"113\",\"static/chunks/113-22cbb49d96a37309.js\",\"198\",\"static/chunks/198-e6778a7d3135e80f.js\",\"610\",\"static/chunks/app/(pages)/blog/%5Bslug%5D/page-91710daad85e4689.js\"],\"Image\"]\n18:I[72972,[\"614\",\"static/chunks/3d47b92a-e6ddc0a62588d0e4.js\",\"878\",\"static/chunks/878-0efe6572033a963b.js\",\"113\",\"static/chunks/113-22cbb49d96a37309.js\",\"198\",\"static/chunks/198-e6778a7d3135e80f.js\",\"610\",\"static/chunks/app/(pages)/blog/%5Bslug%5D/page-91710daad85e4689.js\"],\"\"]\n1a:I[65546,[\"614\",\"static/chunks/3d47b92a-e6ddc0a62588d0e4.js\",\"878\",\"static/chunks/878-0efe6572033a963b.js\",\"113\",\"static/chunks/113-22cbb49d96a37309.js\",\"198\",\"static/chunks/198-e6778a7d3135e80f.js\",\"610\",\"static/chunks/app/(pages)/blog/%5Bslug%5D/page-91710daad85e4689.js\"],\"default\"]\n19:T518,M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496"])</script><script>self.__next_f.push([1," 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"])</script><script>self.__next_f.push([1,"8:[\"$\",\"section\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"mb-10 flex min-h-screen w-full max-w-screen-lg justify-start md:max-w-full\",\"children\":[[\"$\",\"div\",null,{\"className\":\"w-full max-w-full rounded-lg bg-white p-10 pb-24 shadow-sm xl:px-[4em] ArticleContent_articleContent__FInyt\",\"children\":[[\"$\",\"p\",null,{\"children\":\"2021-03-18\"}],[\"$\",\"h1\",null,{\"children\":\"reCAPTCHA(リキャプチャ)導入\"}],[\"$\",\"$L15\",null,{\"tags\":[\"reCAPTCHA\",\"PHP\",\"セキュリティ\"]}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css\",\"integrity\":\"sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X\",\"crossOrigin\":\"anonymous\"}],[\"$\",\"div\",null,{\"className\":\"target-toc\",\"children\":\"$L16\"}]]}],[\"$\",\"div\",null,{\"className\":\"flex-grow lg:ml-10\",\"children\":[\"$\",\"aside\",null,{\"className\":\"hidden lg:block\",\"children\":[[\"$\",\"div\",null,{\"className\":\"w-full rounded-lg bg-white px-6 py-10 shadow-sm\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"$L17\",null,{\"src\":\"/my_site/images/profile_icon.png\",\"alt\":\"Profile\",\"className\":\"rounded-full\",\"width\":100,\"height\":100,\"priority\":true}],[\"$\",\"div\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"p\",null,{\"className\":\"text-lg font-semibold\",\"children\":\"motoshifurugen\"}],[\"$\",\"div\",null,{\"className\":\"mt-4 flex justify-center space-x-4\",\"children\":[[\"$\",\"$L18\",null,{\"href\":\"https://github.com/motoshifurugen\",\"rel\":\"noopener noreferrer\",\"target\":\"_blank\",\"children\":[\"$\",\"div\",null,{\"className\":\"text-main-black\",\"children\":[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"currentColor\",\"strokeWidth\":\"0\",\"viewBox\":\"0 0 496 512\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"$19\",\"children\":[]}]]],\"className\":\"$undefined\",\"style\":{\"color\":\"$undefined\"},\"height\":24,\"width\":24,\"xmlns\":\"http://www.w3.org/2000/svg\"}]}]}],[\"$\",\"$L18\",null,{\"href\":\"https://x.com/cocoahearts21\",\"rel\":\"noopener noreferrer\",\"target\":\"_blank\",\"children\":[\"$\",\"div\",null,{\"className\":\"text-main-black\",\"children\":[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"currentColor\",\"strokeWidth\":\"0\",\"viewBox\":\"0 0 512 512\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z\",\"children\":[]}]]],\"className\":\"$undefined\",\"style\":{\"color\":\"$undefined\"},\"height\":24,\"width\":24,\"xmlns\":\"http://www.w3.org/2000/svg\"}]}]}]]}]]}]]}],[\"$\",\"p\",null,{\"className\":\"mt-3 text-sm leading-6\",\"children\":[\"沖縄生まれ、ブルーハーツ育ち。\",[\"$\",\"br\",null,{}],\"考える前に行動する、\",[\"$\",\"br\",null,{}],\"なんくるないさ系エンジニアです。\"]}],[\"$\",\"div\",null,{\"className\":\"mt-3\",\"children\":[\"$\",\"$L18\",null,{\"href\":\"/profile\",\"children\":[\"$\",\"div\",null,{\"className\":\"text-teal hover:underline\",\"children\":\"View Profile\"}]}]}]]}],[\"$\",\"div\",null,{\"className\":\"w-full\",\"children\":[[\"$\",\"$L1a\",\"toc\",{}]]}]]}]}]]}]}]\n"])</script><script>self.__next_f.push([1,"1b:I[77946,[\"614\",\"static/chunks/3d47b92a-e6ddc0a62588d0e4.js\",\"878\",\"static/chunks/878-0efe6572033a963b.js\",\"113\",\"static/chunks/113-22cbb49d96a37309.js\",\"198\",\"static/chunks/198-e6778a7d3135e80f.js\",\"610\",\"static/chunks/app/(pages)/blog/%5Bslug%5D/page-91710daad85e4689.js\"],\"default\"]\n1c:T506,\u003chtml\u003e\n\u003chead\u003e\n    \u003c!-- reCAPTCHAapi読み込み --\u003e\n    \u003cscript src='https://www.google.com/recaptcha/api.js'\u003e\u003c/script\u003e\n    \u003c!-- jQuery読み込み --\u003e\n    \u003cscript src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js\"\u003e\u003c/script\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n    \u003cform id=\"form\" method=\"post\"\u003e\n        \u003cdiv\u003e\n            \u003clabel for=\"name\"\u003e名前\u003c/label\u003e\n            \u003cinput type=\"text\" id=\"name\"\u003e\n        \u003c/div\u003e\n        \u003cdiv\u003e\n            \u003clabel for=\"email\"\u003eメールアドレス\u003c/label\u003e\n            \u003cinput  type=\"email\" id=\"email\"\u003e\n        \u003c/div\u003e\n        \u003cdiv\u003e\n            \u003clabel for=\"body\"\u003e本文\u003c/label\u003e\n            \u003ctextarea id=\"body\"\u003e\u003c/textarea\u003e\n        \u003c/div\u003e\n        \u003c!-- formタグの内側でreCAPTHA登場場所を記述 サイトキーを入れる--\u003e\n        \u003cdiv class=\"g-recaptcha\" data-callback=\"onSubmit\" data-sitekey=\"\"\u003e\u003c/div\u003e\n        \u003c!-- 送信ボタンのデフォルトをdisaledにする --\u003e\n        \u003cbutton type=\"submit\" class=\"submit-button\" disabled\u003e送信\u003c/button\u003e\n    \u003c/form\u003e\n    \u003cscript\u003e\n    function onSubmit(recaptcha) {\n        if (recaptcha !== ''){\n            // reCAPTHAによるチェックをしたあとは送信ボタンを押せるようにする\n            $('.submit-button').removeAttr('disabled');\n        }\n    }\n    \u003c/script\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"])</script><script>self.__next_f.push([1,"16:[[\"$\",\"h2\",null,{\"id\":\"recaptchaとは\",\"children\":\"reCAPTCHAとは\"}],\"\\n\",[\"$\",\"div\",null,{\"children\":\"reCAPTCHA（リキャプチャ）とは、CAPTCHAと呼ばれる\\nボットの攻撃からWebサイトを守る機能の一種。\"}],\"\\n\",[\"$\",\"div\",null,{\"children\":\"CAPTCHAとは「completely automated public Turing test to tell computers and humans apart 」の略で、人間とコンピュータを区別するためのテストというような意味を持つ。\"}],\"\\n\",[\"$\",\"div\",null,{\"children\":\"具体的な方法としては、下の画像のように崩れた文字を認識させたり、あてはまる画像を選択させたりする。\"}],\"\\n\",[\"$\",\"div\",null,{\"children\":[[\"$\",\"img\",null,{\"src\":\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/594194/a219bdd0-62ec-4a2c-7fb2-24c5432211c8.png\",\"alt\":\"reCAPTCHAv1の例\"}],\"\\n\",[\"$\",\"img\",null,{\"src\":\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/594194/43588993-9150-4b6b-ef14-c7631dfc7021.png\",\"alt\":\"reCAPTCHAv2の例\"}]]}],\"\\n\",[\"$\",\"div\",null,{\"children\":\"2021年2月現在、reCAPTCHAはv1（提供停止）、v2、v3まで開発されてGoogleが提供している。\"}],\"\\n\",[\"$\",\"div\",null,{\"children\":[\"reCAPTCHAについて詳しく書かれた記事はこちら▼\\n\",[\"$\",\"a\",null,{\"href\":\"https://www.synergy-marketing.co.jp/blog/using_recaptcha_on_form\",\"children\":\"「reCAPTCHA」って？スパム対策に効果的なreCAPTCHAをフォームに入れてみた\"}]]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"recaptcha-v2-導入手順\",\"children\":\"reCAPTCHA v2 導入手順\"}],\"\\n\",[\"$\",\"div\",null,{\"children\":\"クライアント側につける「サイトキー」とサーバー側につける「シークレットキー」によって機能をつけることができる。メール送信フォームを参考に、鍵を作成→クライアント側(HTMLとjQuery)を記述→サーバー側(PHP)を記述という流れで実装する。\"}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"div\",null,{\"children\":[\"Google reCAPTCHA にアクセス\\n\",[\"$\",\"a\",null,{\"href\":\"https://www.google.com/recaptcha/about/\",\"children\":\"https://www.google.com/recaptcha/about/\"}],\"\\n\",[\"$\",\"img\",null,{\"src\":\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/594194/55e07f03-c734-1bb2-eefc-f2cabb7c1d10.png\",\"alt\":\"スクリーンショット 2021-02-04 23.55.32.png\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"div\",null,{\"children\":[\"Admin Consoleをクリックしたあと「＋」ボタンから新規作成ページへ行く。\\n\",[\"$\",\"img\",null,{\"src\":\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/594194/18fa70ed-2711-683a-9a33-86cefc9bc9d8.png\",\"alt\":\"スクリーンショット 2021-02-05 0.03.14.png\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"div\",null,{\"children\":[\"名前、バージョン（今回はv2をチェック）、ドメインをそれぞれ入力して送信。\\n\",[\"$\",\"img\",null,{\"src\":\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/594194/b52d85bf-3223-7a57-1502-1441e218132c.png\",\"alt\":\"スクリーンショット 2021-02-05 0.01.21.png\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"div\",null,{\"children\":\"サイトキーとシークレットキーが表示されるので、閉じずにそのままにしておく。\"}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"div\",null,{\"children\":\"HTMLでメール送信フォームを作り、サーバー側でreCAPCHAのデータをチェックする\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"$L1b\",null,{\"className\":\"language-HTML:html\",\"children\":\"$1c\"}]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"$L1b\",null,{\"className\":\"language-php:php\",\"children\":\"// メール送信処理の中で\\n\\n    $recaptcha = h($this-\u003erequest-\u003edata['g-recaptcha-response']);\\n    if (isset($recaptcha)) {\\n        $captcha = $recaptcha;\\n    } else {\\n        $captcha = '';\\n    }\\n    // シークレットキーを入れる\\n    $secretKey = \\\"\\\";\\n    $resp = @file_get_contents(\\\"https://www.google.com/recaptcha/api/siteverify?secret={$secretKey}\u0026response={$captcha}\\\");\\n    $resp_result = json_decode($resp,true);\\n    if(intval($resp_result[\\\"success\\\"]) !== 1) {\\n        // reCAPTCHA承認失敗時の処理\\n    } else {\\n        // reCAPTCHA承認成功時の処理\\n    }\\n\"}]}],\"\\n\",[\"$\",\"div\",null,{\"children\":[\"これで、v2のreCAPTHAを実装できた。\\n\",[\"$\",\"img\",null,{\"src\":\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/594194/1a4ac286-bcfe-85dc-d10a-de22ebdae845.png\",\"alt\":\"スクリーンショット 2021-02-05 1.04.38.png\"}]]}],\"\\n\",[\"$\",\"div\",null,{\"children\":\"ただし日々のコンピュータの進化は早く、これらを突破するソフトウェアやreCAPCHTAの脆弱性についてもすでにいくつか報告されている。\"}],\"\\n\",[\"$\",\"div\",null,{\"children\":\"コンピュータと人を見分けるテスト。熱い戦いが続きそう。\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"参考にさせてもらった記事\",\"children\":\"参考にさせてもらった記事\"}],\"\\n\",[\"$\",\"div\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://liapoc.com/recaptcha.html\",\"children\":\"Googleの「reCAPTCHA」を5分で実装する\"}]}]]\n"])</script></body></html>