[{"slug":"cakephp_install_for_mac_with_mamp","title":"CakePHP3.9ã‚’Macã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ï¼ˆMAMPä½¿ç”¨ï¼‰","date":"2020-10-02","tags":["PHP","MAMP","ç’°å¢ƒæ§‹ç¯‰"],"content":"\n## ç’°å¢ƒ\n\nãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ä¸‹è¨˜\n\n- OSï¼šMacOS Catalina 10.15.4\n\n- PHPï¼š7.3.22\n\n- Composerï¼š1.10.13\n\nä»Šå›ã¯ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ã¤ã„ã¦ã¯è§¦ã‚Œã¾ã›ã‚“\n\nä»¥ä¸‹è¨˜äº‹ã§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å…¥ã‚Œã¾ã—ãŸâ–¼\n[CakePHP3.9ã«MySQLã‚’æ¥ç¶šã™ã‚‹ï¼ˆHomebrewä½¿ç”¨ï¼‰](https://qiita.com/motoshi_cocoa/items/0e2489bfe4ae9cf9d5a9)\n\n## MAMPã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n\n- MAMPå‚è€ƒ\n  https://qiita.com/kuro-wassan/items/1cb32995acc07a4b4cc6\n\n- MAMPã®ã‚µã‚¤ãƒˆ\n  https://www.mamp.info/en/downloads/ ã‹ã‚‰Macç”¨ã®MAMPã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã€‚\n\n- Applicationsãƒ•ã‚©ãƒ«ãƒ€ã®ãªã‹ã«MAMPãŒãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã‚‹ã€‚\n\n## CakePHPã®ã‚¢ãƒ—ãƒªã®ä½œæˆ\n\n- CakePHP3.9 å…¬å¼\n  https://book.cakephp.org/3/ja/installation.html\n\n- MAMPãŒè½ã¡ãŸã¨ã“ã‚ã¸è¡Œã\n\n```bash:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\n$ cd Applications\n$ ls\n$ cd MAMP\n```\n\nâ†‘MAMPãŒè¤‡æ•°ã‚ã‚‹å ´åˆã¯åå‰ãŒé•ã†ã“ã¨ãŒã‚ã‚‹ã®ã§æ³¨æ„\n\n- htdocsã«å…¥ã‚‹ï¼ˆã“ã®ä¸­ã«CakePHPã‚¢ãƒ—ãƒªã‚’ãŠããŸã„ï¼‰\n\n```bash:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\n$ cd htdocs\n```\n\n- CakePHPã‚¢ãƒ—ãƒªã®ä½œæˆ\n\n```bash:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\n$ php composer.phar create-project --prefer-dist cakephp/app:^3.8 app_name\n```\n\nã¾ãŸã¯\n\n```bash:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\n$ composer self-update && composer create-project --prefer-dist cakephp/app:^3.8 app_name\n```\n\nã§CakePHPã®ã‚¢ãƒ—ãƒªãŒä½œã‚‰ã‚Œã‚‹ï¼ˆ`app_name`ã®ã¨ã“ã‚ã«ã¯ä»»æ„ã®ã‚¢ãƒ—ãƒªåã‚’å…¥ã‚Œã‚‹ï¼‰\n\n```bash:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\nUpdating to version 1.10.13 (stable channel).\n   Downloading (100%)\nUse composer self-update --rollback to return to version 1.10.5\nCreating a \"cakephp/app:^3.8\" project at \"./app_name\"\nInstalling cakephp/app (3.9.0)\n.\n.\n. çœç•¥\n.\n.\n> App\\Console\\Installer::postInstall\nCreated `config/app_local.php` file\nCreated `/Applications/MAMP/htdocs/app_name/tmp/cache/views` directory\nSet Folder Permissions ? (Default to Y) [Y,n]?\n```\n\nâ†‘ãƒ•ã‚¡ã‚¤ãƒ«ã®æ¨©é™ã‚’è¨­å®šã—ã¦ã„ã„ã‹composerã«èã‹ã‚Œã‚‹ã‘ã©Yã¨ç­”ãˆã¦Enterã€‚\n\n- ã‚¢ãƒ—ãƒªãŒä½œæˆã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªã—ã¦ã‚¢ãƒ—ãƒªãƒ•ã‚©ãƒ«ãƒ€ã«å…¥ã‚‹\n\n```bash:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\n$ ls\napp_name\n$ cd app_name\n```\n\n- èµ·å‹•ï¼\n\n```bash:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\n$ bin/cake server\n```\n\n```bash:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\nWelcome to CakePHP v3.9.2 Console\n---------------------------------------------------------------\nApp : src\nPath: /Applications/MAMP/htdocs/app_name/src/\nDocumentRoot: /Applications/MAMP/htdocs/app_name/webroot\nIni Path:\n---------------------------------------------------------------\nbuilt-in server is running in http://localhost:8765/\nYou can exit with `CTRL-C`\n```\n\n- ä¸Šè¨˜ã®ã‚ˆã†ãªè¡¨ç¤ºãŒå‡ºãŸã‚‰æˆåŠŸ\n\n- ãƒ–ãƒ©ã‚¦ã‚¶ã§ `http://localhost:8765/` ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã¿ã‚‹\n\n![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2020-10-02 0.29.04.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/594194/247bd690-37dd-fd2a-bb64-e5fff6e7d92f.png)\n\nã“ã“ã¾ã§ã€‚\n"},{"slug":"cakephp_install_mysql","title":"CakePHP3.9ã«MySQLã‚’æ¥ç¶šã™ã‚‹ï¼ˆHomebrewä½¿ç”¨ï¼‰","date":"2020-10-11","tags":["PHP","ç’°å¢ƒæ§‹ç¯‰","MySQL"],"content":"\n### ç’°å¢ƒ\n\nOSï¼šMacOS Catalina 10.15.4\nPHPï¼š7.3.22\nComposerï¼š1.10.13\nHomebrewï¼š2.5.5\nMySQLï¼š8.0.21\n\n- å‰å›ã®è¨˜äº‹ï¼š[CakePHP3.9ã‚’Macã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ï¼ˆMAMPä½¿ç”¨ï¼‰](https://qiita.com/motoshi_cocoa/items/6b2c3065e23d1bd05be5)\n\nä»¥ä¸‹ã®ã‚ˆã†ã«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­å®šãŒæœªå®Œäº†ã€‚ä»Šå›ã¯CakePHPã§MySQLã«æ¥ç¶šã™ã‚‹ã®ãŒç›®çš„ã€‚\n![ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šå‰ã®CakePHPã®ç”»é¢](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/594194/b7069ac5-b646-dcc6-3495-fad05a6ad1e9.png)\n\n### ã“ã®è¨˜äº‹ã®æµã‚Œ\n\n1. MySQLã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒ»èµ·å‹•\n\n1. ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸï¼ˆã‚¨ãƒ©ãƒ¼ãªã—ãªã‚‰é£›ã°ã™ï¼‰\n\n1. MySQLåˆæœŸè¨­å®š\n\n1. CakePHPã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­å®š\n\n1. CakePHPèµ·å‹•\n\n## 1. MySQLã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒ»èµ·å‹•\n\nãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†ãƒ„ãƒ¼ãƒ«Homebrewã‚’ä½¿ç”¨ã—ã¦Mysqlã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã€‚\nå‚è€ƒè¨˜äº‹â–¼\n[ã€ç°¡å˜ã€‘Macã«Homebrewã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹æ–¹æ³•ã¨åŸºæœ¬çš„ãªä½¿ã„æ–¹](https://fukatsu.tech/homebrew)\n\n```bash:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\n$ brew install mysql\n```\n\n```bash:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\n$ mysql --version\nmysql  Ver 8.0.21 for osx10.15 on x86_64 (Homebrew)\n```\n\nã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸã‚‰CakePHPã®ã‚¢ãƒ—ãƒªã¾ã§ç§»å‹•ã—ã¦ã‹ã‚‰MySQLã‚’èµ·å‹•ã€‚\n\n```bash:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\n$ mysql.server start\n```\n\n## 2. ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸï¼ˆã‚¨ãƒ©ãƒ¼ãªã—ãªã‚‰é£›ã°ã™ï¼‰\n\nMySQLã‚’èµ·å‹•ã—ã‚ˆã†ã¨ã—ãŸã‚‰ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸã®ã§ã€æ‰‹å½“ãŸã‚Šæ¬¡ç¬¬ãƒœã‚¿ãƒ³ãŒã‚ã‚Œã°é€£æ‰“ã—ãŸã€‚\n\nâ–¼ã‚¨ãƒ©ãƒ¼å†…å®¹\n\n```bash:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\n./usr/local/Cellar/mysql/8.0.21_1/bin/mysqld_safe: line 144: /usr/local/var/mysql/[ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿å].local.err: Permission denied\n/usr/local/Cellar/mysql/8.0.21_1/bin/mysqld_safe: line 144: /usr/local/var/mysql/[ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿å].local.err: Permission denied\n/usr/local/Cellar/mysql/8.0.21_1/bin/mysqld_safe: line 199: /usr/local/var/mysql/[ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿å].local.err: Permission denied\n/usr/local/Cellar/mysql/8.0.21_1/bin/mysqld_safe: line 144: /usr/local/var/mysql/[ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿å].local.err: Permission denied\nERROR! The server quit without updating PID file (/usr/local/var/mysql/[ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿å].local.pid).\n```\n\n- æ¨©é™ãŒãªã„\n  â†’ sudoã‚³ãƒãƒ³ãƒ‰ã§å®Ÿè¡Œã™ã‚‹ã€‚\n\n- PIDãƒ•ã‚¡ã‚¤ãƒ«ãŒ .... ?\n  â†’ ã“ã®ã‚¨ãƒ©ãƒ¼æ–‡ã¯æ§˜ã€…ãªè¦å› ãŒè€ƒãˆã‚‰ã‚Œã‚‹ã‚‰ã—ã„ã€‚\n  â†’ ãã‚‚ãã‚‚ãƒ•ã‚¡ã‚¤ãƒ«ãŒãªã‹ã£ãŸã®ã§ä½œæˆã€‚\n\n```bash:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\n$ sudo touch /usr/local/var/mysql/[ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿å].local.pid\n```\n\nãã‚Œã§ã‚‚ã‚¨ãƒ©ãƒ¼ã¯æ¶ˆãˆãªã‹ã£ãŸã€‚\n\n/usr/local/var/mysql/[ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿å].local.err ã¨ã„ã†å ´æ‰€ã«è©³ã—ã„ã‚¨ãƒ©ãƒ¼ãŒæ›¸ã„ã¦ã‚ã‚‹ã‚‰ã—ã„ã®ã§ç¢ºèªã—ã«ã„ãã€‚\n\n```bash:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\n$ sudo cat /usr/local/var/mysql/[ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿å].local.err\n```\n\n[ERROR]ã¨ãªã£ã¦ã„ã‚‹ã¨ã“ã‚ã‚’ç™ºè¦‹ï¼\n\n```bash:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\n2020-10-10T16:38:01.565742Z 0 [ERROR] [MY-010274] [Server] Could not open unix socket lock file /tmp/mysql.sock.lock.\n2020-10-10T16:38:01.566306Z 0 [ERROR] [MY-010268] [Server] Unable to setup unix socket lock file.\n2020-10-10T16:38:01.567056Z 0 [ERROR] [MY-010119] [Server] Aborting\n```\n\n/tmp/mysql.sock.lockãƒ•ã‚¡ã‚¤ãƒ«ã«ã„ãªããªã£ã¦ã‚‚ã‚‰ã†ã€‚\n\n```bash:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\n$ sudo rm /tmp/mysql.sock.lock\n```\n\nã„ã–ã€ï¼ˆsudoã§ï¼‰MySQLèµ·å‹•ï¼\n\n```bash:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\n$ sudo mysql.server start\nStarting MySQL\n.. SUCCESS!\n```\n\n## 3. MySQLåˆæœŸè¨­å®š\n\nãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãªã—ã§MySQLã«ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ã€‚\n\n```bash:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\n$ mysql -uroot\n```\n\n- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰è¨­å®š\n\nä½¿ã†ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’æŒ‡å®šã—ã¦\n\n```bash:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\nmysql> use mysql;\n```\n\nrootãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ [è¨­å®šã—ãŸã„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰] ã«å¤‰æ›´ã™ã‚‹ã€‚\n\n```bash:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\nmysql> ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY '[è¨­å®šã—ãŸã„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰]';\n```\n\nä¸€æ—¦ã€é€€å‡ºã€‚\n\n```bash:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\nmysql> exit\n```\n\nãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ä½¿ç”¨ã§ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ã€‚\n\n```bash:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\n$ mysql -uroot -p\nEnter password: [è¨­å®šã—ãŸãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰]\n```\n\n## 4. CakePHPã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­å®š\n\n- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä½œæˆ\n\nMySQLã§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä¸€è¦§ã‚’ç¢ºèªã™ã‚‹ã€‚\n\n```bash:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\nmysql> show databases;\n+--------------------+\n| Database           |\n+--------------------+\n| information_schema |\n| mysql              |\n| performance_schema |\n| sys                |\n+--------------------+\n```\n\nCakePHPã§ä½¿ç”¨ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’æ–°è¦ã§ä½œæˆã™ã‚‹ã€‚ï¼ˆä»Šå›ã¯cake_sampleã¨ã„ã†åå‰ã§ä½œæˆï¼‰\n\n```bash:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\nmysql> create database cake_sample;\n```\n\nå…ˆã»ã©ä½œæˆã—ãŸãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ä¸€è¦§ã§ç¢ºèªã™ã‚‹ã€‚\n\n```bash:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\nmysql> show databases;\n+--------------------+\n| Database           |\n+--------------------+\n| cake_sample        |\n| information_schema |\n| mysql              |\n| performance_schema |\n| sys                |\n+--------------------+\n```\n\nMySQLã¯è¨­å®šå®Œäº†ã€‚\n\n```bash:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\nmysql> exit\n```\n\n- CakePHPã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­å®š\n\nCakePHPã‚¢ãƒ—ãƒªã® config/app.local.php ã‚’ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã§é–‹ãã€username, password, databaseã‚’å¤‰æ›´ã™ã‚‹ã€‚\n\n```php:/config/app.local.phpï¼ˆå¤‰æ›´å¾Œï¼‰\n    'Datasources' => [\n        'default' => [\n            'host' => 'localhost',\n            'username' => 'root', //å¤‰æ›´\n            'password' => '[è¨­å®šã—ãŸãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰]', //å¤‰æ›´\n            'database' => 'cake_sample', //å¤‰æ›´\n            'log' => true,\n            'url' => env('DATABASE_URL', null),\n        ],\n    ],\n```\n\nmysqlã‚’å†èµ·å‹•ã•ã›ã‚‹ã€‚\n\n```bash:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\n$ sudo mysql.serve restart\nShutting down MySQL\n.. SUCCESS!\nStarting MySQL\n. SUCCESS!\n```\n\n## 5. CakePHPèµ·å‹•\n\n```bash:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\n$ bin/cake server\n```\n\nãƒ–ãƒ©ã‚¦ã‚¶ã§ `http://localhost:8765/` ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ä»¥ä¸‹ã®ã‚ˆã†ã«databaseã®ã‚¢ã‚¤ã‚³ãƒ³ãŒç·‘è‰²ã«ãªã‚Œã°æˆåŠŸï¼\n![ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šå®Œäº†å¾Œã®CakePHPã®ç”»é¢](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/594194/4183987c-0420-33f5-4065-d1e207f7b8a4.png)\n\nã“ã“ã¾ã§ã€‚\n\næ¥ç¶šã¯ã§ããŸã‘ã©ã€æ¯å›sudoä½¿ã†ã“ã¨ã«ãªã£ãŸã‚Šã€ãã‚‚ãã‚‚[Homebrewã§sudoã¯ä½¿ã£ã¦ã¯ã„ã‘ãªã„ã¨ã„ã†æƒ…å ±](https://teratail.com/questions/263973)ã‚’ç™ºè¦‹ã€‚èª²é¡Œã€‚\n\n### å‚è€ƒè¨˜äº‹\n\n- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­å®šã«ã¤ã„ã¦ï¼š[MySQL8.0 èªè¨¼æ–¹å¼ã‚’å¤‰æ›´ã™ã‚‹(Laravel5)](https://qiita.com/ucan-lab/items/3ae911b7e13287a5b917)\n\n- MySQLã‚¨ãƒ©ãƒ¼ã«ã¤ã„ã¦ï¼š[MySQL5.7ãŒèµ·å‹•ã§ããªã„ã€‚](https://qiita.com/gaogaomango/items/933a1f55004920a4323d)\n\nã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚\n"},{"slug":"create_my_site","title":"Reactã§ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã‚µã‚¤ãƒˆã‚’ä½œæˆã™ã‚‹ ğŸš€ï¼ˆ1ï¼‰","date":"2024-10-27","tags":["React","JavaScript","ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ª"],"content":"\n## ã¯ã˜ã‚ã«\n\nã€Œè‡ªåˆ†ã«ã¨ã£ã¦æ–°ã—ã„æŠ€è¡“ã‚’ã‚¤ãƒ³ãƒ—ãƒƒãƒˆã—ãŸã„ã€ã¨ã€Œé•·ãæ®‹ã‚‹ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã‚’ä½œã‚ŠãŸã„ã€ã¨ã„ã†æ€ã„ã‹ã‚‰ã€Reactã‚’ä½¿ã£ã¦ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã‚µã‚¤ãƒˆã®ä½œæˆã«æŒ‘æˆ¦ã—ã¦ã¿ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚\nã“ã®è¨˜äº‹ã‚’å«ã‚ã€è¤‡æ•°å›ã«åˆ†ã‘ã¦ä½œæˆéç¨‹ã‚’è¨˜éŒ²ã—ã¦ã„ãã¾ã™ã€‚ä»Šå›ã¯ä»¥ä¸‹ã®å†…å®¹ã«ã¤ã„ã¦ã”ç´¹ä»‹ã—ã¾ã™ã€‚\n\n- Nextã‚¢ãƒ—ãƒªä½œæˆ\n- ã‚µã‚¤ãƒˆå…±é€šãƒ‡ã‚¶ã‚¤ãƒ³ã®è¨­å®š\n- Headerã®ä½œæˆ\n- ã€TOPç”»é¢ã€‘ãƒ†ã‚­ã‚¹ãƒˆã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®ä½œæˆ\n- ã€TOPç”»é¢ã€‘ãƒ¡ã‚¤ãƒ³ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸éƒ¨åˆ†ä½œæˆ\n- ã€TOPç”»é¢ã€‘èƒŒæ™¯ç”»åƒã®è¨­å®š\n\nä»Šå›ã®é–‹ç™ºç’°å¢ƒã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚\n\n| åˆ©ç”¨ç’°å¢ƒ    | ãƒãƒ¼ã‚¸ãƒ§ãƒ³              |\n| ----------- | ----------------------- |\n| macOS       | Sonoma 14.5ï¼ˆM1ãƒãƒƒãƒ—ï¼‰ |\n| Node.js     | 20.12.2                 |\n| React       | 18                      |\n| Next.js     | 14.2.5                  |\n| TypeScript  | 5                       |\n| tailwindcss | 3.4.1                   |\n\n### ãƒ‡ã‚¶ã‚¤ãƒ³ã®å‚è€ƒã«ã™ã‚‹ã‚µã‚¤ãƒˆï¼ˆå®Œæˆã‚¤ãƒ¡ãƒ¼ã‚¸ï¼‰\n\n[TOP | æ ªå¼ä¼šç¤¾ãƒ‘ã‚ºãƒ«](https://puzzle-inc.jp/)\n[szne](https://szn.jp/)\n\nå‚è€ƒã«ã—ãŸä¸Šè¨˜ã‚µã‚¤ãƒˆã‚„Github Copilotã‚’æ´»ç”¨ã—ã€ç„¡äº‹ã«ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã‚’å®Œæˆã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚æœ¬å½“ã«ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼\n\n### ã‚­ãƒ£ãƒƒãƒã‚¢ãƒƒãƒ—æ–¹æ³•\n\n[ã€2024å¹´æœ€æ–°ã€‘React(v18)å®Œå…¨å…¥é–€ã‚¬ã‚¤ãƒ‰ï½œHooksã€Next14ã€Reduxã€TypeScript | Udemy](https://www.udemy.com/course/react-complete-guide/?couponCode=KEEPLEARNING)\n\n## Nextã‚¢ãƒ—ãƒªä½œæˆ\n\n```zsh:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\nnpx create-next-app@latest\n```\n\n```zsh:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\nNeed to install the following packages:\ncreate-next-app@14.2.5\nOk to proceed? (y)\n```\n\nyã‚’å…¥åŠ›ã—ã¦ã‚¨ãƒ³ã‚¿ãƒ¼ã‚’æŠ¼ã—ã€ç¶šã‘ã¦èã‹ã‚Œã‚‹è³ªå•ã«ã¯å¥½ã¿ã§ç­”ãˆã¾ã™ã€‚\næ„å‘³ã«ã¤ã„ã¦ã¯ä»¥ä¸‹ã‚’å‚è€ƒã«ã—ã¾ã—ãŸã€‚\n\n[create-next-appã§è¨Šã‹ã‚Œã¦ã„ã‚‹ã“ã¨](https://zenn.dev/ikkik/articles/51d97ff70bd0da)\n\n```zsh:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\nâœ” What is your project named? â€¦ my-site\nâœ” Would you like to use TypeScript? â€¦ Yes\nâœ” Would you like to use ESLint? â€¦ Yes\nâœ” Would you like to use Tailwind CSS? â€¦ Yes\nâœ” Would you like to use `src/` directory? â€¦ Yes\nâœ” Would you like to use App Router? (recommended) â€¦ Yes\nâœ” Would you like to customize the default import alias (@/*)? â€¦ No\n```\n\n```zsh:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\ncd my-site\nnpm run dev\n```\n\nã“ã®çŠ¶æ…‹ã§`http://localhost:3000/`ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ã€åˆã®next.jsã¨å¯¾é¢ã§ãã¾ã—ãŸã€‚\n\n<img\n  src=\"https://i.gyazo.com/e9b392b216d7f9e592e57478f739d4d7.png\"\n  alt=\"screenshot\"\n  width=\"600px\"\n/>\n\npage.tsxã®returnå†…ã¨globals.cssã«ã„ãªããªã£ã¦ã‚‚ã‚‰ã„ã€`Hello My Site!`ã‚’è¡¨ç¤ºã•ã›ã¾ã—ãŸã€‚\n\n<img\n  src=\"https://i.gyazo.com/74548e4eb1e10dac0201374654e12f27.png\"\n  alt=\"screenshot\"\n  width=\"600px\"\n/>\n\n## ã‚µã‚¤ãƒˆå…±é€šãƒ‡ã‚¶ã‚¤ãƒ³ã®è¨­å®š\n\ntailwindcssã¯ã€ã‚ã‚‰ã‹ã˜ã‚ç”¨æ„ã•ã‚ŒãŸCSSã‚¯ãƒ©ã‚¹ã‚’ã‚¿ã‚°ã«æŒ‡å®šã—ã¦ã‚¹ã‚¿ã‚¤ãƒ«ã‚’é©ç”¨ã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚åˆ©ç”¨æ–¹æ³•ã¯`tailwind.css`ã‚’importã—ã¦ã€é©ç”¨ã•ã›ãŸã„ã‚¹ã‚¿ã‚¤ãƒ«ã®ã‚¯ãƒ©ã‚¹ã‚’`className`ã‚’æŒ‡å®šã™ã‚‹ã ã‘ã§ã™ã€‚\n\n```javascript:page.tsx\nimport 'tailwindcss/tailwind.css'\n\nexport default function Home() {\n  return (\n    <body>\n      <h1 className=\"text-black\">Hello My Site!</h1>\n    </body>\n  )\n}\n```\n\nã“ã“ã§ã¯ã€ã‚µã‚¤ãƒˆå…¨ä½“ã§ä½¿ç”¨ã™ã‚‹ã‚«ãƒ©ãƒ¼ã¨ãƒ•ã‚©ãƒ³ãƒˆã‚’`tailwind.config.ts`ã«å®šç¾©ã—ã€`globals.css`ã§bodyã«ã‚¹ã‚¿ã‚¤ãƒ«ã‚’é©ç”¨ã—ã¾ã—ãŸã€‚\n\n```javascript:tailwind.config.ts\nimport type { Config } from \"tailwindcss\";\n\nconst config: Config = {\n  content: [\n    \"./src/pages/**/*.{js,ts,jsx,tsx,mdx}\",\n    \"./src/components/**/*.{js,ts,jsx,tsx,mdx}\",\n    \"./src/app/**/*.{js,ts,jsx,tsx,mdx}\",\n  ],\n  theme: {\n    colors: {\n      'bg-main' : '#F6F6F6',\n      'font-main' : '#161616',\n    },\n    fontFamily: {\n      'ryo-gothic-plusn': ['\"ryo-gothic-plusn\"', 'sans-serif'],\n    }\n  },\n  plugins: [],\n};\nexport default config;\n```\n\n```css:globals.css\n@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\nbody {\n  @apply bg-bg-main text-font-main font-ryo-gothic-plusn;\n}\n```\n\n## Headerã®ä½œæˆ\n\nãƒ˜ãƒƒãƒ€ãƒ¼ç”¨ã«`components/Header.tsx`ã‚’æ–°è¦ã§ä½œæˆã—ã¾ã—ãŸã€‚\n\n```javascript:Header.tsx\nimport Link from 'next/link'\nimport 'tailwindcss/tailwind.css'\n\nconst Header = () => {\n  return (\n    <header>\n      <div className=\"container mx-auto flex flex-wrap p-5 flex-col md:flex-row items-center\">\n        <a className=\"flex font-medium items-center mb-4 md:mb-0\">\n          <span className=\"ml-3 text-xl\">Motoshi Furugen</span>\n        </a>\n        <nav className=\"md:ml-auto flex flex-wrap items-center text-base justify-center\">\n          <Link className=\"mr-10 hover:opacity-50\" href=\"#\">\n            ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«\n          </Link>\n          <Link className=\"mr-10 hover:opacity-50\" href=\"#\">\n            é–‹ç™ºãƒ–ãƒ­ã‚°\n          </Link>\n          <Link className=\"mr-10 hover:opacity-50\" href=\"#\">\n            å®Ÿç¸¾\n          </Link>\n          <Link className=\"mr-10 hover:opacity-50\" href=\"#\">\n            ã‚³ãƒ³ã‚¿ã‚¯ãƒˆ\n          </Link>\n        </nav>\n      </div>\n    </header>\n  )\n}\n\nexport default Header\n```\n\n`layout.tsx`ã§Headerã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å‘¼ã³å‡ºã—ã¾ã—ãŸã€‚\n\n```javascript:layout.tsx\nimport type { Metadata } from \"next\";\nimport { Inter } from \"next/font/google\";\nimport \"./globals.css\";\n\nimport Header from \"./components/Header\";\n\nconst inter = Inter({ subsets: [\"latin\"] });\n\nexport const metadata: Metadata = {\n  title: \"Motoshi Furugen\",\n  description: \"This is Motoshi Furugen's personal website.\",\n};\n\nexport default function RootLayout({\n  children,\n}: Readonly<{\n  children: React.ReactNode;\n}>) {\n  return (\n    <html lang=\"en\">\n      <body className={inter.className}>\n        <Header />\n        {children}\n      </body>\n    </html>\n  );\n}\n```\n\n<img\n  src=\"https://i.gyazo.com/b8bd5cc99c95d0e26252a14e1f2e42b5.png\"\n  alt=\"screenshot\"\n  width=\"600px\"\n/>\n\n## ã€TOPç”»é¢ã€‘ãƒ†ã‚­ã‚¹ãƒˆã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®ä½œæˆ\n\nTOPãƒšãƒ¼ã‚¸ã®ã‚¿ã‚¤ãƒˆãƒ«ã«ã©ã†ã—ã¦ã‚‚ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å…¥ã‚ŒãŸã‹ã£ãŸã®ã§ã€GSAPã‚’å°å…¥ã—ã¾ã—ãŸã€‚\n\nhttps://gsap.com/\n\n```zsh:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«\nnpm install gsap\n```\n\n`components/TitleAnimation.tsx`ã‚’æ–°è¦ã§ä½œæˆã—ã€GSAPã‚’ä½¿ã£ã¦æ–‡å­—ã‚’ä¸€æ–‡å­—ãšã¤è¡¨ç¤ºã•ã›ã‚‹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿç¾ã—ã¾ã—ãŸã€‚\n\n```javascript:TitleAnimation.tsx\n'use client'\n\nimport { useEffect, useRef } from 'react'\nimport gsap from 'gsap'\nimport { TextPlugin } from 'gsap/TextPlugin'\n\ngsap.registerPlugin(TextPlugin)\n\nexport default function TitleAnimation() {\n  // æ–‡å­—ã‚’ä¸€æ–‡å­—ãšã¤è¡¨ç¤ºã™ã‚‹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³\n  const textRef = useRef < HTMLParagraphElement > null\n  useEffect(() => {\n    if (textRef.current) {\n      gsap.to(textRef.current, { duration: 1.75, text: 'Furugen' })\n    }\n  }, [])\n\n  return (\n    <p\n      className=\"\n        w-full\n        text-[8rem]\n        text-left\n        text-font-main\n        font-dm-sans\n        tracking-widest\n        mx-[100px]\n      \"\n      ref={textRef}\n    ></p>\n  )\n}\n```\n\n<img\n  src=\"https://i.gyazo.com/41b11105b154beb85eda4f36df65a0cc.gif\"\n  alt=\"screenshot\"\n  width=\"600px\"\n/>\n\n## ã€TOPç”»é¢ã€‘ãƒ¡ã‚¤ãƒ³ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸éƒ¨åˆ†ä½œæˆ\n\n`components/MainMessage.txs`ã‚’ä½œæˆã—ã€ãƒ¡ã‚¤ãƒ³ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¨˜è¿°ã—ã¾ã—ãŸã€‚\n\n```javascript:MainMessage.tsx\nexport default function MainMessage() {\n  return (\n    <>\n      <p className=\"text-2xl leading-loose\">\n        å¿ƒã®å¥åº·ã‚’æ”¯ãˆã‚‹ãŸã‚ã«ã€\n        <br />\n        ç”»é¢ã®å‘ã“ã†ã«åºƒãŒã‚‹ä¸–ç•Œã¸ã€\n        <br />\n        æƒ³ã„ã‚’ã‚³ãƒ¼ãƒ‰ã«è¾¼ã‚ã€\n        <br />\n        æ¯æ—¥æŒ‘æˆ¦ã—ç¶šã‘ã‚‹ã€\n        <br />\n        ãªã‚“ãã‚‹ãªã„ã•ç³»ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã€‚\n      </p>\n    </>\n  )\n}\n```\n\n`page.tsx`ã«ã¦ã€`TitleAnimation`ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨`MainMessage`ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’æ¨ªä¸¦ã³ã«è¡¨ç¤ºã—ã¾ã—ãŸã€‚\n\n```javascript:page.tsx\nãƒ»ãƒ»ãƒ»\n<section className=\"main-face flex\">\n  <div className=\"flex-1\">\n    <TitleAnimation />\n  </div>\n  <div className=\"w-[480px]\">\n    <MainMessage />\n  </div>\n</section>\nãƒ»ãƒ»ãƒ»\n```\n\nã‚¢ã‚¤ã‚³ãƒ³ã‚’ä½¿ã„ãŸã„ã®ã§ã€ä»¥ä¸‹ã‚’å‚è€ƒã«font Awesomeï¼ˆç„¡æ–™ç‰ˆï¼‰ã‚’å°å…¥ã—ã¾ã—ãŸã€‚\n\n- [Set Up with React | Font Awesome Docs](https://docs.fontawesome.com/web/use-with/react)\n- [ã€Next.jsã€‘FontAwesomeã‚’å°å…¥ã—ã¦ã‚¢ã‚¤ã‚³ãƒ³ã‚’è¡¨ç¤ºã—ã¦ã¿ã‚ˆã†ï¼ #Next.js - Qiita](https://qiita.com/takakou/items/de4d86f1acad6e4511d5)\n\nãƒ¡ã‚¤ãƒ³ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ä¸‹ã«ã¯ã€æ¬¡å›ä½œæˆã™ã‚‹ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»é¢ã¸ã®ãƒªãƒ³ã‚¯ã‚’è¨­ç½®ã—ã¾ã—ãŸã€‚\n\n```javascript:MainMessage.tsx\n<>\n  <p className=\"text-2xl leading-loose mb-12\">\n    å¿ƒã®å¥åº·ã‚’æ”¯ãˆã‚‹ãŸã‚ã«ã€\n    <br />\n    ç”»é¢ã®å‘ã“ã†ã«åºƒãŒã‚‹ä¸–ç•Œã¸ã€\n    <br />\n    æƒ³ã„ã‚’ã‚³ãƒ¼ãƒ‰ã«è¾¼ã‚ã€\n    <br />\n    æ¯æ—¥æŒ‘æˆ¦ã—ç¶šã‘ã‚‹ã€\n    <br />\n    ãªã‚“ãã‚‹ãªã„ã•ç³»ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã€‚\n  </p>\n  <a href=\"#\" className=\"text-xl group\">\n    ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«\n    <button\n      className=\"relative align-middle transition-all w-8 max-w-[32px] h-8 max-h-[32px] text-xs border border-font-main border-opacity-20 rounded-full ml-5 group-hover:bg-white\"\n      type=\"button\"\n    >\n      <span>\n        <FontAwesomeIcon icon={faArrowRight} />\n      </span>\n    </button>\n  </a>\n</>\n```\n\n<img\n  src=\"https://i.gyazo.com/984edc81e2cf3fdfb8116bd69d6a42a0.png\"\n  alt=\"screenshot\"\n  width=\"600px\"\n/>\n\n## ã€TOPç”»é¢ã€‘èƒŒæ™¯ç”»åƒã®è¨­å®š\n\nãƒˆãƒƒãƒ—ç”»é¢ã§å¤§ããæµ·ã®ç”»åƒã‚’è¼‰ã›ãŸã„ã¨æ€ã„ã€èƒŒæ™¯ç”»åƒç”¨ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ`components/BackgroundWrapper.tsx`ã‚’æ–°ãŸã«ä½œæˆã—ã¾ã—ãŸã€‚\n\n`usePathname()`ã‚’ç”¨ã„ã¦ç¾åœ¨ã®ãƒ‘ã‚¹ã‚’å–å¾—ã—ã€ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã®å ´åˆã®ã¿èƒŒæ™¯ç”»åƒã‚’è¡¨ç¤ºã•ã›ã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚\n\n```javascript:BackgroundWrapper.tsx\n\"use client\";\n\nimport { usePathname } from 'next/navigation';\nimport React from 'react';\n\nconst BackgroundWrapper: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  const pathname = usePathname();\n  const isRootPath = pathname === '/';\n\n  return (\n    <div className=\"relative\">\n      {isRootPath && (\n        <div className=\"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-50 h-screen\" style={{ backgroundImage: \"url('/images/back-pic/day_01.jpg')\" }}></div>\n      )}\n      <div className={`${isRootPath ? 'relative z-10' : ''}`}>\n        {children}\n      </div>\n    </div>\n  );\n};\n\nexport default BackgroundWrapper;\n```\n\n`layout.tsx`ã§bodyå†…ã®è¦ç´ ã‚’`BackgroundWrapper`ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§å›²ã„ã€ãƒˆãƒƒãƒ—ç”»é¢ã«ãƒ‰ãƒ¼ãƒ³ã¨è¡¨ç¤ºã•ã›ã¾ã—ãŸã€‚\n\n```javascript:layout.tsx\n<html lang=\"en\">\n  <body className={inter.className}>\n    <BackgroundWrapper>\n      <Header />\n      <main className=\"pt-40\">{children}</main>\n    </BackgroundWrapper>\n  </body>\n</html>\n```\n\nãªã‚“ã‹æ–‡å­—ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãŒãƒã‚°ã¿ãŸã„ã«è¦‹ãˆã¦ããŸã®ã§ï¼ˆç¬‘ï¼‰ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®é€Ÿåº¦ã‚’èª¿æ•´ã—ã¦ã€ãƒˆãƒƒãƒ—ç”»é¢ã®å®Ÿè£…ãŒå®Œäº†ã—ã¾ã—ãŸã€‚\n\n<img\n  src=\"https://i.gyazo.com/1bb143e42a4deacbbd0bed7026e1f1e4.gif\"\n  alt=\"screenshot\"\n  width=\"600px\"\n/>\n\n### to be continued...\n\næ¬¡å›ã¯ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»é¢ã®ä½œæˆã‚’è¡Œã„ã¾ã™ã€‚\n"},{"slug":"recaptcha_2_install","title":"reCAPTCHA(ãƒªã‚­ãƒ£ãƒ—ãƒãƒ£)å°å…¥","date":"2021-03-18","tags":["reCAPTCHA","PHP","ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£"],"content":"\n## reCAPTCHAã¨ã¯\n\nreCAPTCHAï¼ˆãƒªã‚­ãƒ£ãƒ—ãƒãƒ£ï¼‰ã¨ã¯ã€CAPTCHAã¨å‘¼ã°ã‚Œã‚‹\nãƒœãƒƒãƒˆã®æ”»æ’ƒã‹ã‚‰Webã‚µã‚¤ãƒˆã‚’å®ˆã‚‹æ©Ÿèƒ½ã®ä¸€ç¨®ã€‚\n\nCAPTCHAã¨ã¯ã€Œcompletely automated public Turing test to tell computers and humans apart ã€ã®ç•¥ã§ã€äººé–“ã¨ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã‚’åŒºåˆ¥ã™ã‚‹ãŸã‚ã®ãƒ†ã‚¹ãƒˆã¨ã„ã†ã‚ˆã†ãªæ„å‘³ã‚’æŒã¤ã€‚\n\nå…·ä½“çš„ãªæ–¹æ³•ã¨ã—ã¦ã¯ã€ä¸‹ã®ç”»åƒã®ã‚ˆã†ã«å´©ã‚ŒãŸæ–‡å­—ã‚’èªè­˜ã•ã›ãŸã‚Šã€ã‚ã¦ã¯ã¾ã‚‹ç”»åƒã‚’é¸æŠã•ã›ãŸã‚Šã™ã‚‹ã€‚\n\n![reCAPTCHAv1ã®ä¾‹](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/594194/a219bdd0-62ec-4a2c-7fb2-24c5432211c8.png)\n![reCAPTCHAv2ã®ä¾‹](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/594194/43588993-9150-4b6b-ef14-c7631dfc7021.png)\n\n2021å¹´2æœˆç¾åœ¨ã€reCAPTCHAã¯v1ï¼ˆæä¾›åœæ­¢ï¼‰ã€v2ã€v3ã¾ã§é–‹ç™ºã•ã‚Œã¦GoogleãŒæä¾›ã—ã¦ã„ã‚‹ã€‚\n\nreCAPTCHAã«ã¤ã„ã¦è©³ã—ãæ›¸ã‹ã‚ŒãŸè¨˜äº‹ã¯ã“ã¡ã‚‰â–¼\n[ã€ŒreCAPTCHAã€ã£ã¦ï¼Ÿã‚¹ãƒ‘ãƒ å¯¾ç­–ã«åŠ¹æœçš„ãªreCAPTCHAã‚’ãƒ•ã‚©ãƒ¼ãƒ ã«å…¥ã‚Œã¦ã¿ãŸ](https://www.synergy-marketing.co.jp/blog/using_recaptcha_on_form)\n\n## reCAPTCHA v2 å°å…¥æ‰‹é †\n\nã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã«ã¤ã‘ã‚‹ã€Œã‚µã‚¤ãƒˆã‚­ãƒ¼ã€ã¨ã‚µãƒ¼ãƒãƒ¼å´ã«ã¤ã‘ã‚‹ã€Œã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚­ãƒ¼ã€ã«ã‚ˆã£ã¦æ©Ÿèƒ½ã‚’ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚ãƒ¡ãƒ¼ãƒ«é€ä¿¡ãƒ•ã‚©ãƒ¼ãƒ ã‚’å‚è€ƒã«ã€éµã‚’ä½œæˆâ†’ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´(HTMLã¨jQuery)ã‚’è¨˜è¿°â†’ã‚µãƒ¼ãƒãƒ¼å´(PHP)ã‚’è¨˜è¿°ã¨ã„ã†æµã‚Œã§å®Ÿè£…ã™ã‚‹ã€‚\n\n1. Google reCAPTCHA ã«ã‚¢ã‚¯ã‚»ã‚¹\n   https://www.google.com/recaptcha/about/\n   ![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2021-02-04 23.55.32.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/594194/55e07f03-c734-1bb2-eefc-f2cabb7c1d10.png)\n\n1. Admin Consoleã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚ã¨ã€Œï¼‹ã€ãƒœã‚¿ãƒ³ã‹ã‚‰æ–°è¦ä½œæˆãƒšãƒ¼ã‚¸ã¸è¡Œãã€‚\n   ![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2021-02-05 0.03.14.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/594194/18fa70ed-2711-683a-9a33-86cefc9bc9d8.png)\n\n1. åå‰ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼ˆä»Šå›ã¯v2ã‚’ãƒã‚§ãƒƒã‚¯ï¼‰ã€ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ãã‚Œãã‚Œå…¥åŠ›ã—ã¦é€ä¿¡ã€‚\n   ![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2021-02-05 0.01.21.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/594194/b52d85bf-3223-7a57-1502-1441e218132c.png)\n\n1. ã‚µã‚¤ãƒˆã‚­ãƒ¼ã¨ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚­ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã§ã€é–‰ã˜ãšã«ãã®ã¾ã¾ã«ã—ã¦ãŠãã€‚\n\n1. HTMLã§ãƒ¡ãƒ¼ãƒ«é€ä¿¡ãƒ•ã‚©ãƒ¼ãƒ ã‚’ä½œã‚Šã€ã‚µãƒ¼ãƒãƒ¼å´ã§reCAPCHAã®ãƒ‡ãƒ¼ã‚¿ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹\n\n```HTML:html\n<html>\n<head>\n    <!-- reCAPTCHAapièª­ã¿è¾¼ã¿ -->\n    <script src='https://www.google.com/recaptcha/api.js'></script>\n    <!-- jQueryèª­ã¿è¾¼ã¿ -->\n    <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js\"></script>\n</head>\n<body>\n    <form id=\"form\" method=\"post\">\n        <div>\n            <label for=\"name\">åå‰</label>\n            <input type=\"text\" id=\"name\">\n        </div>\n        <div>\n            <label for=\"email\">ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</label>\n            <input  type=\"email\" id=\"email\">\n        </div>\n        <div>\n            <label for=\"body\">æœ¬æ–‡</label>\n            <textarea id=\"body\"></textarea>\n        </div>\n        <!-- formã‚¿ã‚°ã®å†…å´ã§reCAPTHAç™»å ´å ´æ‰€ã‚’è¨˜è¿° ã‚µã‚¤ãƒˆã‚­ãƒ¼ã‚’å…¥ã‚Œã‚‹-->\n        <div class=\"g-recaptcha\" data-callback=\"onSubmit\" data-sitekey=\"\"></div>\n        <!-- é€ä¿¡ãƒœã‚¿ãƒ³ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚’disaledã«ã™ã‚‹ -->\n        <button type=\"submit\" class=\"submit-button\" disabled>é€ä¿¡</button>\n    </form>\n    <script>\n    function onSubmit(recaptcha) {\n        if (recaptcha !== ''){\n            // reCAPTHAã«ã‚ˆã‚‹ãƒã‚§ãƒƒã‚¯ã‚’ã—ãŸã‚ã¨ã¯é€ä¿¡ãƒœã‚¿ãƒ³ã‚’æŠ¼ã›ã‚‹ã‚ˆã†ã«ã™ã‚‹\n            $('.submit-button').removeAttr('disabled');\n        }\n    }\n    </script>\n</body>\n</html>\n```\n\n```php:php\n// ãƒ¡ãƒ¼ãƒ«é€ä¿¡å‡¦ç†ã®ä¸­ã§\n\n    $recaptcha = h($this->request->data['g-recaptcha-response']);\n    if (isset($recaptcha)) {\n        $captcha = $recaptcha;\n    } else {\n        $captcha = '';\n    }\n    // ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚­ãƒ¼ã‚’å…¥ã‚Œã‚‹\n    $secretKey = \"\";\n    $resp = @file_get_contents(\"https://www.google.com/recaptcha/api/siteverify?secret={$secretKey}&response={$captcha}\");\n    $resp_result = json_decode($resp,true);\n    if(intval($resp_result[\"success\"]) !== 1) {\n        // reCAPTCHAæ‰¿èªå¤±æ•—æ™‚ã®å‡¦ç†\n    } else {\n        // reCAPTCHAæ‰¿èªæˆåŠŸæ™‚ã®å‡¦ç†\n    }\n```\n\nã“ã‚Œã§ã€v2ã®reCAPTHAã‚’å®Ÿè£…ã§ããŸã€‚\n![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2021-02-05 1.04.38.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/594194/1a4ac286-bcfe-85dc-d10a-de22ebdae845.png)\n\nãŸã ã—æ—¥ã€…ã®ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã®é€²åŒ–ã¯æ—©ãã€ã“ã‚Œã‚‰ã‚’çªç ´ã™ã‚‹ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚„reCAPCHTAã®è„†å¼±æ€§ã«ã¤ã„ã¦ã‚‚ã™ã§ã«ã„ãã¤ã‹å ±å‘Šã•ã‚Œã¦ã„ã‚‹ã€‚\n\nã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã¨äººã‚’è¦‹åˆ†ã‘ã‚‹ãƒ†ã‚¹ãƒˆã€‚ç†±ã„æˆ¦ã„ãŒç¶šããã†ã€‚\n\n### å‚è€ƒã«ã•ã›ã¦ã‚‚ã‚‰ã£ãŸè¨˜äº‹\n\n[Googleã®ã€ŒreCAPTCHAã€ã‚’5åˆ†ã§å®Ÿè£…ã™ã‚‹](https://liapoc.com/recaptcha.html)\n"}]